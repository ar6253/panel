<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>پروفایل کاربر</title>

<!-- فونت‌ها -->
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
@font-face {
  font-family: 'Yekan';
  src: url('https://cdn.fontcdn.ir/Font/Yekan/Yekan.woff2') format('woff2');
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Vazirmatn', sans-serif;
}

body {
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

.container {
  width: 100%;
  max-width: 420px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  padding: 30px;
  position: relative;
  text-align: center;
}

h2 {
  font-weight: 600;
  margin-bottom: 24px;
  color: #222;
}

label {
  display: block;
  text-align: right;
  margin-bottom: 6px;
  font-weight: 600;
  font-size: 15px;
}

input, select {
  width: 100%;
  padding: 12px;
  border: 1.6px solid #ddd;
  border-radius: 10px;
  margin-bottom: 14px;
  text-align: center;
  font-family: 'Yekan', sans-serif;
  font-size: 15px;
}

button.save {
  width: 100%;
  background: #1976d2;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 12px;
  font-size: 16px;
  cursor: pointer;
  font-family: 'Vazirmatn', sans-serif;
  transition: background 0.2s ease;
}

button.save:hover {
  background: #1565c0;
}

.back-button {
  position: absolute;
  top: 10px;
  left: 10px;
  background: #ccc;
  color: #333;
  border: none;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 13px;
  cursor: pointer;
  font-family: 'Vazirmatn', sans-serif;
}
</style>
</head>
<body>

<div class="container">
  <button class="back-button" onclick="history.back()">بازگشت</button>
  <h2>پروفایل کاربر</h2>

  <label>نام</label>
  <input type="text" id="name" placeholder="نام">

  <label>ایمیل</label>
  <input type="email" id="email" placeholder="ایمیل">

  <label>نسخه</label>
  <input type="text" id="version" placeholder="مثلاً 1.21.8">

  <label>ادیشن</label>
  <select id="edition">
    <option value="">انتخاب کنید</option>
    <option value="Bedrock">Bedrock</option>
    <option value="Java">Java</option>
  </select>

  <button class="save" onclick="saveData()">ذخیره</button>
</div>

<script>
function getUsername() {
  const params = new URLSearchParams(window.location.search);
  return params.get('user') || '';
}

function saveData() {
  const username = getUsername();
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const version = document.getElementById('version').value.trim();
  const edition = document.getElementById('edition').value.trim();

  if(!name || !email || !version || !edition){
    alert('لطفاً همه فیلدها را پر کنید');
    return;
  }

  const data = {username, name, email, version, edition};
  localStorage.setItem(username, JSON.stringify(data));
  alert('اطلاعات ذخیره شد ✅');
}

// وقتی وارد صفحه می‌شن، اطلاعات قبلی لود میشه
window.onload = function(){
  const username = getUsername();
  const saved = localStorage.getItem(username);
  if(saved){
    const data = JSON.parse(saved);
    document.getElementById('name').value = data.name || '';
    document.getElementById('email').value = data.email || '';
    document.getElementById('version').value = data.version || '';
    document.getElementById('edition').value = data.edition || '';
  }
};
</script>

</body>
</html>
